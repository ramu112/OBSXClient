<div  data-ng-controller="EditMessageController">
<div>
	<ul class="breadcrumb">
		<li><a href="#/organization">{{'link.admin.organisation' | translate}}</a> <span class="divider">/</span></li>
		<li><a href="#/message">{{'label.managemessage' | translate}}</a>
	    <span class="divider">/</span></li>
		<li class="active">{{'label.editmessage' | translate}}</li>
	</ul>
</div>
<form class="form-horizontal well" data-ng-submit="submit()">
	 <div class="error" data-ng-show="errorStatus || errorDetails">
		<label>{{'label.contract.error' | translate}}</label>
		<label data-ng-show="errorStatus">{{errorStatus}}</label>
		<label data-ng-hide="errorStatus" data-ng-repeat="error in errorDetails">{{error.code | translate}}</label>
	    </div>
	<fieldset>
		<legend>{{'label.editmessage' | translate}}</legend>
		<table style="width:100%;">
		    <tr>
				<td width="50%">
					<div class="control-group">
						<label class="control-label" for="messageType"> {{ 'label.message.messageType' | translate }} </label>
						<div class="controls">
							<select data-ng-model="formData.messageType" data-ng-options="message.id as message.value for message in messageTypes">
							</select>
						</div>
					</div>
				</td>
			</tr>
			<tr>
				<td width="50%">
					<div class="control-group">
						<label class="control-label" for="templateDescription"> {{'label.message.templateDescription' | translate}} </label>
						<div class="controls">
							<input type="text" id="templateDescription"
								data-ng-model="formData.templateDescription">
						</div>
					</div>
				</td>
			</tr>
			<tr>
				<td width="50%">
					<div class="control-group">
						<label class="control-label" for="subject"> {{ 'label.message.subject' | translate }} </label>
						<div class="controls">
							<input type="text" id="subject" data-ng-model="formData.subject">
						</div>
					</div>
				</td>
			</tr>
			<tr>
				<td width="50%">
						<div class="control-group" data-ng-hide="formData.messageType !='E'">
						<label class="control-label" for="header"> {{'label.message.header' | translate}} </label>
						<div class="controls">
							<input type="text" id="header" data-ng-model="formData.header">
						</div>
					</div>
				</td>
			</tr>
			
			<tr>
				<td width="50%">
					<div class="control-group">
						<label class="control-label" for="body">{{ 'label.message.body' | translate }}</label>
						<div class="controls">
							 <textarea data-ng-model="formData.body"></textarea>
						</div>
					</div>
				</td>
			</tr>	
			
			<tr>
				<td width="50%">
						<div class="control-group" data-ng-hide="formData.messageType !='E'">
						<label class="control-label" for="footer"> {{ 'label.message.footer' | translate }} </label>
						<div class="controls">
							<input type="text" id="footer" data-ng-model="formData.footer">
						</div>
					</div>
				</td>
			</tr>

		</table>
		<table>
			<tr class="control-group">
				<td><label class="control-label"><h4> {{ 'label.message.addMessageParams' | translate }} </h4></label></td>
				<td class="blockquoteresult">
					<form>
						<input class="input-small" type="text" data-ng-model="messageFormData.parameter"> &nbsp;&nbsp; 
						<a data-ng-click="addMessage()">&nbsp;<i class="icon-plus icon-white"></i></a>&nbsp;&nbsp;
					   </form> <br> <br>
					<table class="table" style="width:100%;"data-ng-show="formData.messageParams.length>0">
						<tr></tr>
						<tr data-ng-repeat="messageFormDatas in formData.messageParams">
							<td><input type="text" class="input-small" data-ng-model="messageFormDatas.parameter"></td>
							<td><a data-ng-click="deleteMessageParam($index)"><i class="icon-remove icon-white"></i></a></td>
						</tr>
					</table>
		</table>
		<div class="offset3">
			<a href="#/message"><button id="cancel" type="reset" class="btn">Cancel</button></a>
			<button id="submit" type="submit" class="btn btn-primary">Save</button>
		</div>
	</fieldset>
</form>
</div>

